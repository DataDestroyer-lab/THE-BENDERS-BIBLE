<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Conduit Pro | Master Edition</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
</head>
<body>

    <div class="app-container">
        <header>
            <div class="logo">
                <ion-icon name="flash"></ion-icon> CONDUIT<span>PRO</span>
            </div>
            <div class="settings-btn" onclick="toggleSettings()">
                <ion-icon name="settings-outline"></ion-icon>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" onclick="switchTab('stub')" data-tab="stub">90° Stub</button>
            <button class="tab-btn" onclick="switchTab('offset')" data-tab="offset">Offset</button>
            <button class="tab-btn" onclick="switchTab('saddle3')" data-tab="saddle3">3-Pt Saddle</button>
            <button class="tab-btn" onclick="switchTab('saddle4')" data-tab="saddle4">4-Pt Saddle</button>
            <button class="tab-btn" onclick="switchTab('rolling')" data-tab="rolling">Rolling</button>
            <button class="tab-btn wiki-tab" onclick="switchTab('wiki')" data-tab="wiki">
                <ion-icon name="book"></ion-icon> NEC Ref
            </button>
        </nav>

        <main id="calculator-view">
            
            <div id="global-config" class="config-panel hidden">
                <h3>Bender Calibration</h3>
                <label>Conduit Size / Take-Up</label>
                <select id="bender-size">
                    <option value="5">1/2" EMT (5" Take-up)</option>
                    <option value="6">3/4" EMT (6" Take-up)</option>
                    <option value="8">1" EMT (8" Take-up)</option>
                    <option value="custom">Custom...</option>
                </select>
                <div id="custom-input-group" class="hidden">
                    <label>Custom Take-Up (Inches)</label>
                    <input type="number" id="custom-val" placeholder="5.0">
                </div>
            </div>

            <div id="input-section" class="card fade-in">
                </div>

            <button id="calculate-btn" onclick="calculate()">
                CALCULATE <ion-icon name="arrow-forward"></ion-icon>
            </button>

            <div id="result-section" class="card hidden">
                <div class="result-header">
                    <ion-icon name="cut-outline"></ion-icon> Fabrication Data
                </div>
                <div id="text-output"></div>
                
                <div class="visualizer-container">
                    <div class="vis-label">VISUAL MARK GUIDE (Scaled)</div>
                    <div id="pipe-canvas">
                        </div>
                </div>

                <div class="pro-tip">
                    <ion-icon name="bulb"></ion-icon> <span id="tip-text"></span>
                </div>
            </div>
        </main>

        <main id="wiki-view" class="hidden">
            <div class="card">
                <h2><ion-icon name="library"></ion-icon> NEC & Theory Reference</h2>
                
                <div class="wiki-block">
                    <h3>Article 358: EMT</h3>
                    <p><strong>358.30 (A) Securement:</strong> EMT must be securely fastened in place at least every <strong>10 ft</strong> (3 m). In addition, each EMT run must be secured within <strong>3 ft</strong> (900 mm) of each outlet box, junction box, device box, cabinet, conduit body, or other tubing termination.</p>
                </div>

                <div class="wiki-block">
                    <h3>Chapter 9, Table 2: Radius</h3>
                    <p>When bending conduit in the field, the bend must not damage the internal diameter. Standard "One-Shot" benders follow these minimum radii:</p>
                    <table class="data-table">
                        <tr><th>Size</th><th>Min Radius</th></tr>
                        <tr><td>1/2"</td><td>4"</td></tr>
                        <tr><td>3/4"</td><td>5"</td></tr>
                        <tr><td>1"</td><td>6"</td></tr>
                    </table>
                </div>

                <div class="wiki-block">
                    <h3>Trigonometry Cheat Sheet</h3>
                    <table class="data-table">
                        <tr><th>Angle</th><th>Multiplier</th><th>Shrink/Inch</th></tr>
                        <tr><td>10°</td><td>6.0</td><td>1/16"</td></tr>
                        <tr><td>22.5°</td><td>2.6</td><td>3/16"</td></tr>
                        <tr><td>30°</td><td>2.0</td><td>1/4"</td></tr>
                        <tr><td>45°</td><td>1.4</td><td>3/8"</td></tr>
                        <tr><td>60°</td><td>1.2</td><td>1/2"</td></tr>
                    </table>
                </div>
            </div>
        </main>

    </div>

    <script src="script.js"></script>
</body>
</html>